!function(){var e,n,r,t;!function(){var o={},i={};e=function(e,n,r){o[e]={deps:n,callback:r}},t=r=n=function(e){function r(n){if("."!==n.charAt(0))return n;for(var r=n.split("/"),t=e.split("/").slice(0,-1),o=0,i=r.length;i>o;o++){var a=r[o];if(".."===a)t.pop();else{if("."===a)continue;t.push(a)}}return t.join("/")}if(t._eak_seen=o,i[e])return i[e];if(i[e]={},!o[e])throw new Error("Could not find module "+e);for(var a,u=o[e],c=u.deps,s=u.callback,f=[],l=0,d=c.length;d>l;l++)"exports"===c[l]?f.push(a={}):f.push(n(r(c[l])));var w=s.apply(this,f);return i[e]=a||w}}(),e("promise/all",["./utils","exports"],function(e,n){"use strict";function r(e){var n=this;if(!t(e))throw new TypeError("You must pass an array to all.");return new n(function(n,r){function t(e){return function(n){i(e,n)}}function i(e,r){u[e]=r,0===--c&&n(u)}var a,u=[],c=e.length;0===c&&n([]);for(var s=0;s<e.length;s++)a=e[s],a&&o(a.then)?a.then(t(s),r):i(s,a)})}var t=e.isArray,o=e.isFunction;n.all=r}),e("promise/asap",["exports"],function(e){"use strict";function n(){return function(){process.nextTick(o)}}function r(){var e=0,n=new c(o),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}function t(){return function(){s.setTimeout(o,1)}}function o(){for(var e=0;e<f.length;e++){var n=f[e],r=n[0],t=n[1];r(t)}f=[]}function i(e,n){var r=f.push([e,n]);1===r&&a()}var a,u="undefined"!=typeof window?window:{},c=u.MutationObserver||u.WebKitMutationObserver,s="undefined"!=typeof global?global:this,f=[];a="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?n():c?r():t(),e.asap=i}),e("promise/cast",["exports"],function(e){"use strict";function n(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var n=this;return new n(function(n){n(e)})}e.cast=n}),e("promise/config",["exports"],function(e){"use strict";function n(e,n){return 2!==arguments.length?r[e]:(r[e]=n,void 0)}var r={instrument:!1};e.config=r,e.configure=n}),e("promise/polyfill",["./promise","./utils","exports"],function(e,n,r){"use strict";function t(){var e="Promise"in window&&"cast"in window.Promise&&"resolve"in window.Promise&&"reject"in window.Promise&&"all"in window.Promise&&"race"in window.Promise&&function(){var e;return new window.Promise(function(n){e=n}),i(e)}();e||(window.Promise=o)}var o=e.Promise,i=n.isFunction;r.polyfill=t}),e("promise/promise",["./config","./utils","./cast","./all","./race","./resolve","./reject","./asap","exports"],function(e,n,r,t,o,i,a,u,c){"use strict";function s(e){if(!S(e))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof s))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],f(e,this)}function f(e,n){function r(e){y(n,e)}function t(e){m(n,e)}try{e(r,t)}catch(o){t(o)}}function l(e,n,r,t){var o,i,a,u,c=S(r);if(c)try{o=r(t),a=!0}catch(s){u=!0,i=s}else o=t,a=!0;v(n,o)||(c&&a?y(n,o):u?m(n,i):e===O?y(n,o):e===k&&m(n,o))}function d(e,n,r,t){var o=e._subscribers,i=o.length;o[i]=n,o[i+O]=r,o[i+k]=t}function w(e,n){for(var r,t,o=e._subscribers,i=e._detail,a=0;a<o.length;a+=3)r=o[a],t=o[a+n],l(n,r,t,i);e._subscribers=null}function v(e,n){var r,t=null;try{if(e===n)throw new TypeError("A promises callback cannot return that same promise.");if(A(n)&&(t=n.then,S(t)))return t.call(n,function(t){return r?!0:(r=!0,n!==t?y(e,t):h(e,t),void 0)},function(n){return r?!0:(r=!0,m(e,n),void 0)}),!0}catch(o){return r?!0:(m(e,o),!0)}return!1}function y(e,n){e===n?h(e,n):v(e,n)||h(e,n)}function h(e,n){e._state===B&&(e._state=D,e._detail=n,b.async(p,e))}function m(e,n){e._state===B&&(e._state=D,e._detail=n,b.async(g,e))}function p(e){w(e,e._state=O)}function g(e){w(e,e._state=k)}var b=e.config,A=(e.configure,n.objectOrFunction),S=n.isFunction,E=(n.now,r.cast),_=t.all,j=o.race,x=i.resolve,I=a.reject,N=u.asap;b.async=N;var B=void 0,D=0,O=1,k=2;s.prototype={constructor:s,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(e,n){var r=this,t=new this.constructor(function(){});if(this._state){var o=arguments;b.async(function(){l(r._state,t,o[r._state-1],r._detail)})}else d(this,t,e,n);return t},"catch":function(e){return this.then(null,e)}},s.all=_,s.cast=E,s.race=j,s.resolve=x,s.reject=I,c.Promise=s}),e("promise/race",["./utils","exports"],function(e,n){"use strict";function r(e){var n=this;if(!t(e))throw new TypeError("You must pass an array to race.");return new n(function(n,r){for(var t,o=0;o<e.length;o++)t=e[o],t&&"function"==typeof t.then?t.then(n,r):n(t)})}var t=e.isArray;n.race=r}),e("promise/reject",["exports"],function(e){"use strict";function n(e){var n=this;return new n(function(n,r){r(e)})}e.reject=n}),e("promise/resolve",["exports"],function(e){"use strict";function n(e){var n=this;return new n(function(n){n(e)})}e.resolve=n}),e("promise/utils",["exports"],function(e){"use strict";function n(e){return r(e)||"object"==typeof e&&null!==e}function r(e){return"function"==typeof e}function t(e){return"[object Array]"===Object.prototype.toString.call(e)}var o=Date.now||function(){return(new Date).getTime()};e.objectOrFunction=n,e.isFunction=r,e.isArray=t,e.now=o}),n("promise/polyfill").polyfill()}(),function(){"use strict";function e(e){if(e)for(var n in s)void 0!==e[n]&&(s[n]=e[n]);return new u(function(e,n){var r=f.open(s.name,s.version);r.onerror=function(){n(r.error.name)},r.onupgradeneeded=function(){r.result.createObjectStore(s.storeName)},r.onsuccess=function(){c=r.result,e()}})}function n(e,n){var r=this;return new u(function(t,o){r.ready().then(function(){var r=c.transaction(s.storeName,"readonly").objectStore(s.storeName),i=r.get(e);i.onsuccess=function(){var e=i.result;void 0===e&&(e=null),n&&n(e),t(e)},i.onerror=function(){o(i.error.name)}})})}function r(e,n,r){var t=this;return new u(function(o,i){t.ready().then(function(){var t=c.transaction(s.storeName,"readwrite").objectStore(s.storeName);void 0===n&&(n=null);var a=t.put(n,e);a.onsuccess=function(){r&&r(n),o(n)},a.onerror=function(){i(a.error.name)}})})}function t(e,n){var r=this;return new u(function(t,o){r.ready().then(function(){var r=c.transaction(s.storeName,"readwrite").objectStore(s.storeName),i=r["delete"](e);i.onsuccess=function(){n&&n(),t()},i.onerror=function(){o(i.error.name)}})})}function o(e){var n=this;return new u(function(r,t){n.ready().then(function(){var n=c.transaction(s.storeName,"readwrite").objectStore(s.storeName),o=n.clear();o.onsuccess=function(){e&&e(),r()},o.onerror=function(){t(o.error.name)}})})}function i(e){var n=this;return new u(function(r,t){n.ready().then(function(){var n=c.transaction(s.storeName,"readonly").objectStore(s.storeName),o=n.count();o.onsuccess=function(){e&&e(o.result),r(o.result)},o.onerror=function(){t(o.error.name)}})})}function a(e,n){var r=this;return new u(function(t,o){return 0>e?(n&&n(null),t(null),void 0):(r.ready().then(function(){var r=c.transaction(s.storeName,"readonly").objectStore(s.storeName),i=!1,a=r.openCursor();a.onsuccess=function(){var r=a.result;return r?(0===e?(n&&n(r.key),t(r.key)):i?(n&&n(r.key),t(r.key)):(i=!0,r.advance(e)),void 0):(n&&n(null),t(null),void 0)},a.onerror=function(){o(a.error.name)}}),void 0)})}window.storeConfig={name:"visit_cheltenham_app",version:1,size:4980736,storeName:"vc_storage",description:"Config settings and other application data"};var u=window.Promise,c=null,s={name:"store",storeName:"keyvaluepairs",version:1},f=f||window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB;if(f){var l={_driver:"asyncStorage",_initStorage:e,getItem:n,setItem:r,removeItem:t,clear:o,length:i,key:a};"function"==typeof define&&define.amd?define("asyncStorage",function(){return l}):"undefined"!=typeof module&&module.exports?module.exports=l:this.asyncStorage=l}}.call(this),function(){"use strict";function e(e){if(e)for(var n in l)void 0!==e[n]&&(l[n]=e[n]);return f=l.name+"/",d.resolve()}function n(e){var n=this;return new d(function(r){n.ready().then(function(){w.clear(),e&&e(),r()})})}function r(e,n){var r=this;return new d(function(t,o){r.ready().then(function(){try{var r=w.getItem(f+e);r&&(r=a(r)),n&&n(r),t(r)}catch(i){o(i)}})})}function t(e,n){var r=this;return new d(function(t){r.ready().then(function(){var r=w.key(e);r&&(r=r.substring(f.length)),n&&n(r),t(r)})})}function o(e){var n=this;return new d(function(r){n.ready().then(function(){var n=w.length;e&&e(n),r(n)})})}function i(e,n){var r=this;return new d(function(t){r.ready().then(function(){w.removeItem(f+e),n&&n(),t()})})}function a(e){if(e.substring(0,h)!==y)return JSON.parse(e);for(var n=e.substring(N),r=e.substring(h,N),t=new ArrayBuffer(2*n.length),o=new Uint16Array(t),i=n.length-1;i>=0;i--)o[i]=n.charCodeAt(i);switch(r){case m:return t;case p:return new Blob([t]);case g:return new Int8Array(t);case b:return new Uint8Array(t);case A:return new Uint8ClampedArray(t);case S:return new Int16Array(t);case _:return new Uint16Array(t);case E:return new Int32Array(t);case j:return new Uint32Array(t);case x:return new Float32Array(t);case I:return new Float64Array(t);default:throw new Error("Unkown type: "+r)}}function u(e){var n="",r=new Uint16Array(e);try{n=String.fromCharCode.apply(null,r)}catch(t){for(var o=0;o<r.length;o++)n+=String.fromCharCode(r[o])}return n}function c(e,n){var r="";if(e&&(r=e.toString()),e&&("[object ArrayBuffer]"===e.toString()||e.buffer&&"[object ArrayBuffer]"===e.buffer.toString())){var t,o=y;e instanceof ArrayBuffer?(t=e,o+=m):(t=e.buffer,"[object Int8Array]"===r?o+=g:"[object Uint8Array]"===r?o+=b:"[object Uint8ClampedArray]"===r?o+=A:"[object Int16Array]"===r?o+=S:"[object Uint16Array]"===r?o+=_:"[object Int32Array]"===r?o+=E:"[object Uint32Array]"===r?o+=j:"[object Float32Array]"===r?o+=x:"[object Float64Array]"===r?o+=I:n(new Error("Failed to get type for BinaryArray")));var i=u(t);n(null,o+i)}else if("[object Blob]"===r){var a=new FileReader;a.onload=function(){var e=u(this.result);n(null,y+p+e)},a.readAsArrayBuffer(e)}else try{n(null,JSON.stringify(e))}catch(c){console.error("Couldn't convert value into a JSON string: ",e),n(c)}}function s(e,n,r){var t=this;return new d(function(o,i){t.ready().then(function(){void 0===n&&(n=null);var t=n;c(n,function(n,a){n?i(n):(w.setItem(f+e,a),r&&r(t),o(t))})})})}var f="",l={name:"store"},d=window.Promise,w=null;try{w=window.localStorage}catch(v){return}var y="__lfsc__:",h=y.length,m="arbf",p="blob",g="si08",b="ui08",A="uic8",S="si16",E="si32",_="ur16",j="ui32",x="fl32",I="fl64",N=h+m.length,B={_driver:"localStorageWrapper",_initStorage:e,getItem:r,setItem:s,removeItem:i,clear:n,length:o,key:t};"function"==typeof define&&define.amd?define("localStorageWrapper",function(){return B}):"undefined"!=typeof module&&module.exports?module.exports=B:this.localStorageWrapper=B}.call(this),function(){"use strict";function e(e){if(e)for(var n in w)void 0!==e[n]&&(w[n]="string"!=typeof e[n]?e[n].toString():e[n]);return new l(function(e){d=window.openDatabase(w.name,w.version,w.description,w.size),d.transaction(function(n){n.executeSql("CREATE TABLE IF NOT EXISTS "+w.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){e()},null)})})}function n(e,n){var r=this;return new l(function(t){r.ready().then(function(){d.transaction(function(r){r.executeSql("SELECT * FROM "+w.storeName+" WHERE key = ? LIMIT 1",[e],function(e,r){var o=r.rows.length?r.rows.item(0).value:null;o&&(o=c(o)),n&&n(o),t(o)},null)})})})}function r(e,n,r){var t=this;return new l(function(o,i){t.ready().then(function(){void 0===n&&(n=null);var t=n;s(n,function(n,a){n?i(n):d.transaction(function(n){n.executeSql("INSERT OR REPLACE INTO "+w.storeName+" (key, value) VALUES (?, ?)",[e,a],function(){r&&r(t),o(t)},null)})})})})}function t(e,n){var r=this;return new l(function(t){r.ready().then(function(){d.transaction(function(r){r.executeSql("DELETE FROM "+w.storeName+" WHERE key = ?",[e],function(){n&&n(),t()},null)})})})}function o(e){var n=this;return new l(function(r){n.ready().then(function(){d.transaction(function(n){n.executeSql("DELETE FROM "+w.storeName,[],function(){e&&e(),r()},null)})})})}function i(e){var n=this;return new l(function(r){n.ready().then(function(){d.transaction(function(n){n.executeSql("SELECT COUNT(key) as c FROM "+w.storeName,[],function(n,t){var o=t.rows.item(0).c;e&&e(o),r(o)},null)})})})}function a(e,n){var r=this;return new l(function(t){r.ready().then(function(){d.transaction(function(r){r.executeSql("SELECT key FROM "+w.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,r){var o=r.rows.length?r.rows.item(0).key:null;n&&n(o),t(o)},null)})})})}function u(e){var n,r=new Uint8Array(e),t="";for(n=0;n<r.length;n+=3)t+=f[r[n]>>2],t+=f[(3&r[n])<<4|r[n+1]>>4],t+=f[(15&r[n+1])<<2|r[n+2]>>6],t+=f[63&r[n+2]];return r.length%3===2?t=t.substring(0,t.length-1)+"=":r.length%3===1&&(t=t.substring(0,t.length-2)+"=="),t}function c(e){if(e.substring(0,y)!==v)return JSON.parse(e);var n,r,t,o,i,a=e.substring(I),u=e.substring(y,I),c=.75*a.length,s=a.length,l=0;"="===a[a.length-1]&&(c--,"="===a[a.length-2]&&c--);var d=new ArrayBuffer(c),w=new Uint8Array(d);for(n=0;s>n;n+=4)r=f.indexOf(a[n]),t=f.indexOf(a[n+1]),o=f.indexOf(a[n+2]),i=f.indexOf(a[n+3]),w[l++]=r<<2|t>>4,w[l++]=(15&t)<<4|o>>2,w[l++]=(3&o)<<6|63&i;switch(u){case h:return d;case m:return new Blob([d]);case p:return new Int8Array(d);case g:return new Uint8Array(d);case b:return new Uint8ClampedArray(d);case A:return new Int16Array(d);case E:return new Uint16Array(d);case S:return new Int32Array(d);case _:return new Uint32Array(d);case j:return new Float32Array(d);case x:return new Float64Array(d);default:throw new Error("Unkown type: "+u)}}function s(e,n){var r="";if(e&&(r=e.toString()),e&&("[object ArrayBuffer]"===e.toString()||e.buffer&&"[object ArrayBuffer]"===e.buffer.toString())){var t,o=v;e instanceof ArrayBuffer?(t=e,o+=h):(t=e.buffer,"[object Int8Array]"===r?o+=p:"[object Uint8Array]"===r?o+=g:"[object Uint8ClampedArray]"===r?o+=b:"[object Int16Array]"===r?o+=A:"[object Uint16Array]"===r?o+=E:"[object Int32Array]"===r?o+=S:"[object Uint32Array]"===r?o+=_:"[object Float32Array]"===r?o+=j:"[object Float64Array]"===r?o+=x:n(new Error("Failed to get type for BinaryArray")));var i=u(t);n(null,o+i)}else if("[object Blob]"===r){var a=new FileReader;a.onload=function(){var e=u(this.result);n(null,v+m+e)},a.readAsArrayBuffer(e)}else try{n(null,JSON.stringify(e))}catch(c){console.error("Couldn't convert value into a JSON string: ",e),n(c)}}var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=window.Promise,d=null,w={description:"",name:"store",size:4980736,storeName:"keyvaluepairs",version:"1.0"},v="__lfsc__:",y=v.length,h="arbf",m="blob",p="si08",g="ui08",b="uic8",A="si16",S="si32",E="ur16",_="ui32",j="fl32",x="fl64",I=y+h.length;if(window.openDatabase){var N={_driver:"webSQLStorage",_initStorage:e,getItem:n,setItem:r,removeItem:t,clear:o,length:i,key:a};"function"==typeof define&&define.amd?define("webSQLStorage",function(){return N}):"undefined"!=typeof module&&module.exports?module.exports=N:this.webSQLStorage=N}}.call(this),function(){"use strict";var e=window.Promise,n=1,r=2,t=3,o=t;"function"==typeof define&&define.amd?o=n:"undefined"!=typeof module&&module.exports&&(o=r);var i,a=a||window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB,u=this,c={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage",driver:function(){return this._driver||null},_ready:e.reject(new Error("setDriver() wasn't called")),setDriver:function(t,i){return this._ready=new e(function(e,s){if(!a&&t===c.INDEXEDDB||!window.openDatabase&&t===c.WEBSQL)return i&&i(c),s(c),void 0;if(o===n)require([t],function(n){c._extend(n),c._initStorage(window.storeConfig).then(function(){i&&i(c),e(c)})});else if(o===r){var f;switch(t){case c.INDEXEDDB:f=require("store/src/drivers/indexeddb");break;case c.LOCALSTORAGE:f=require("store/src/drivers/localstorage");break;case c.WEBSQL:f=require("store/src/drivers/websql")}c._extend(f),c._initStorage(window.storeConfig).then(function(){i&&i(c),e(c)})}else c._extend(u[t]),c._initStorage(window.storeConfig).then(function(){i&&i(c),e(c)})}),c._ready},ready:function(e){return this._ready.then(e),this._ready},_extend:function(e){for(var n in e)e.hasOwnProperty(n)&&(this[n]=e[n])}};i=a?c.INDEXEDDB:window.openDatabase?c.WEBSQL:c.LOCALSTORAGE,c.setDriver(i),o===n?define(function(){return c}):o===r?module.exports=c:this.store=c}.call(this);