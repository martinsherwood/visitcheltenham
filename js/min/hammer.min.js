!function(e,t){"use strict";function n(){i.READY||(E.determineEventTypes(),m.each(i.gestures,function(e){y.register(e)}),E.onTouch(i.DOCUMENT,g,y.detect),E.onTouch(i.DOCUMENT,d,y.detect),i.READY=!0)}function r(e,n){e.event.bindDom=function(e,r,i){n(e).on(r,function(e){var n=e.originalEvent||e;n.pageX===t&&(n.pageX=e.pageX,n.pageY=e.pageY),n.target||(n.target=e.target),n.which===t&&(n.which=n.button),n.preventDefault||(n.preventDefault=e.preventDefault),n.stopPropagation||(n.stopPropagation=e.stopPropagation),i.call(this,n)})},e.Instance.prototype.on=function(e,t){return n(this.element).on(e,t)},e.Instance.prototype.off=function(e,t){return n(this.element).off(e,t)},e.Instance.prototype.trigger=function(e,t){var r=n(this.element);return r.has(t.target).length&&(r=n(t.target)),r.trigger({type:e,gesture:t})},n.fn.hammer=function(t){return this.each(function(){var r=n(this),i=r.data("hammer");i?i&&t&&e.utils.extend(i.options,t):r.data("hammer",new e(this,t||{}))})}}var i=function(e,t){return new i.Instance(e,t||{})};i.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},i.HAS_POINTEREVENTS=e.navigator.pointerEnabled||e.navigator.msPointerEnabled,i.HAS_TOUCHEVENTS="ontouchstart"in e,i.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i,i.NO_MOUSEEVENTS=i.HAS_TOUCHEVENTS&&e.navigator.userAgent.match(i.MOBILE_REGEX),i.EVENT_TYPES={},i.UPDATE_VELOCITY_INTERVAL=16,i.DOCUMENT=e.document;var a=i.DIRECTION_DOWN="down",o=i.DIRECTION_LEFT="left",s=i.DIRECTION_UP="up",c=i.DIRECTION_RIGHT="right",u=i.POINTER_MOUSE="mouse",h=i.POINTER_TOUCH="touch",l=i.POINTER_PEN="pen",p=i.EVENT_START="start",g=i.EVENT_MOVE="move",d=i.EVENT_END="end";i.plugins=i.plugins||{},i.gestures=i.gestures||{},i.READY=!1;var m=i.utils={extend:function(e,n,r){for(var i in n)e[i]!==t&&r||(e[i]=n[i]);return e},each:function(e,n,r){var i,a;if("forEach"in e)e.forEach(n,r);else if(e.length!==t){for(i=-1;a=e[++i];)if(n.call(r,a,i,e)===!1)return}else for(i in e)if(e.hasOwnProperty(i)&&n.call(r,e[i],i,e)===!1)return},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){var t=[],n=[];return m.each(e,function(e){t.push("undefined"!=typeof e.clientX?e.clientX:e.pageX),n.push("undefined"!=typeof e.clientY?e.clientY:e.pageY)}),{pageX:(Math.min.apply(Math,t)+Math.max.apply(Math,t))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(e,t,n){return{x:Math.abs(t/e)||0,y:Math.abs(n/e)||0}},getAngle:function(e,t){var n=t.pageY-e.pageY,r=t.pageX-e.pageX;return 180*Math.atan2(n,r)/Math.PI},getDirection:function(e,t){var n=Math.abs(e.pageX-t.pageX),r=Math.abs(e.pageY-t.pageY);return n>=r?e.pageX-t.pageX>0?o:c:e.pageY-t.pageY>0?s:a},getDistance:function(e,t){var n=t.pageX-e.pageX,r=t.pageY-e.pageY;return Math.sqrt(n*n+r*r)},getScale:function(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==s||e==a},toggleDefaultBehavior:function(e,t,n){if(t&&e&&e.style){m.each(["webkit","moz","Moz","ms","o",""],function(r){m.each(t,function(t,i){r&&(i=r+i.substring(0,1).toUpperCase()+i.substring(1)),i in e.style&&(e.style[i]=!n&&t)})});var r=function(){return!1};"none"==t.userSelect&&(e.onselectstart=!n&&r),"none"==t.userDrag&&(e.ondragstart=!n&&r)}}};i.Instance=function(e,t){var r=this;return n(),this.element=e,this.enabled=!0,this.options=m.extend(m.extend({},i.defaults),t||{}),this.options.stop_browser_behavior&&m.toggleDefaultBehavior(this.element,this.options.stop_browser_behavior,!1),this.eventStartHandler=E.onTouch(e,p,function(e){r.enabled&&y.startDetect(r,e)}),this.eventHandlers=[],this},i.Instance.prototype={on:function(e,t){var n=e.split(" ");return m.each(n,function(e){this.element.addEventListener(e,t,!1),this.eventHandlers.push({gesture:e,handler:t})},this),this},off:function(e,t){var n,r,i=e.split(" ");return m.each(i,function(e){for(this.element.removeEventListener(e,t,!1),n=-1;r=this.eventHandlers[++n];)r.gesture===e&&r.handler===t&&this.eventHandlers.splice(n,1)},this),this},trigger:function(e,t){t||(t={});var n=i.DOCUMENT.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t;var r=this.element;return m.hasParent(t.target,r)&&(r=t.target),r.dispatchEvent(n),this},enable:function(e){return this.enabled=e,this},dispose:function(){var e,t;for(this.options.stop_browser_behavior&&m.toggleDefaultBehavior(this.element,this.options.stop_browser_behavior,!0),e=-1;t=this.eventHandlers[++e];)this.element.removeEventListener(t.gesture,t.handler,!1);return this.eventHandlers=[],E.unbindDom(this.element,i.EVENT_TYPES[p],this.eventStartHandler),null}};var v=null,f=!1,_=!1,E=i.event={bindDom:function(e,t,n){var r=t.split(" ");m.each(r,function(t){e.addEventListener(t,n,!1)})},unbindDom:function(e,t,n){var r=t.split(" ");m.each(r,function(t){e.removeEventListener(t,n,!1)})},onTouch:function(e,t,n){var r=this,a=function(a){var o=a.type.toLowerCase();if(!o.match(/mouse/)||!_){o.match(/touch/)||o.match(/pointerdown/)||o.match(/mouse/)&&1===a.which?f=!0:o.match(/mouse/)&&!a.which&&(f=!1),o.match(/touch|pointer/)&&(_=!0);var s=0;f&&(i.HAS_POINTEREVENTS&&t!=d?s=T.updatePointer(t,a):o.match(/touch/)?s=a.touches.length:_||(s=o.match(/up/)?0:1),s>0&&t==d?t=g:s||(t=d),(s||null===v)&&(v=a),n.call(y,r.collectEventData(e,t,r.getTouchList(v,t),a)),i.HAS_POINTEREVENTS&&t==d&&(s=T.updatePointer(t,a))),s||(v=null,f=!1,_=!1,T.reset())}};return this.bindDom(e,i.EVENT_TYPES[t],a),a},determineEventTypes:function(){var e;e=i.HAS_POINTEREVENTS?T.getEvents():i.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],i.EVENT_TYPES[p]=e[0],i.EVENT_TYPES[g]=e[1],i.EVENT_TYPES[d]=e[2]},getTouchList:function(e){return i.HAS_POINTEREVENTS?T.getTouchList():e.touches?e.touches:(e.identifier=1,[e])},collectEventData:function(e,t,n,r){var i=h;return(r.type.match(/mouse/)||T.matchType(u,r))&&(i=u),{center:m.getCenter(n),timeStamp:(new Date).getTime(),target:r.target,touches:n,eventType:t,pointerType:i,srcEvent:r,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return y.stopDetect()}}}},T=i.PointerEvent={pointers:{},getTouchList:function(){var e=[];return m.each(this.pointers,function(t){e.push(t)}),e},updatePointer:function(e,t){return e==d?delete this.pointers[t.pointerId]:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t),Object.keys(this.pointers).length},matchType:function(e,t){if(!t.pointerType)return!1;var n=t.pointerType,r={};return r[u]=n===u,r[h]=n===h,r[l]=n===l,r[e]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},y=i.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:m.extend({},t),lastEvent:!1,lastVelocityEvent:!1,velocity:!1,name:""},this.detect(t))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);var t=this.current.inst.options;return m.each(this.gestures,function(n){return this.stopped||t[n.name]===!1||n.handler.call(n,e,this.current.inst)!==!1?void 0:(this.stopDetect(),!1)},this),this.current&&(this.current.lastEvent=e),e.eventType==d&&!e.touches.length-1&&this.stopDetect(),e}},stopDetect:function(){this.previous=m.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(e){var t=this.current,n=t.startEvent;(e.touches.length!=n.touches.length||e.touches===n.touches)&&(n.touches=[],m.each(e.touches,function(e){n.touches.push(m.extend({},e))}));var r,a,o=e.timeStamp-n.timeStamp,s=e.center.pageX-n.center.pageX,c=e.center.pageY-n.center.pageY,u=t.lastVelocityEvent,h=t.velocity;return u&&e.timeStamp-u.timeStamp>i.UPDATE_VELOCITY_INTERVAL?(h=m.getVelocity(e.timeStamp-u.timeStamp,e.center.pageX-u.center.pageX,e.center.pageY-u.center.pageY),t.lastVelocityEvent=e,t.velocity=h):t.velocity||(h=m.getVelocity(o,s,c),t.lastVelocityEvent=e,t.velocity=h),e.eventType==d?(r=t.lastEvent&&t.lastEvent.interimAngle,a=t.lastEvent&&t.lastEvent.interimDirection):(r=t.lastEvent&&m.getAngle(t.lastEvent.center,e.center),a=t.lastEvent&&m.getDirection(t.lastEvent.center,e.center)),m.extend(e,{deltaTime:o,deltaX:s,deltaY:c,velocityX:h.x,velocityY:h.y,distance:m.getDistance(n.center,e.center),angle:m.getAngle(n.center,e.center),interimAngle:r,direction:m.getDirection(n.center,e.center),interimDirection:a,scale:m.getScale(n.touches,e.touches),rotation:m.getRotation(n.touches,e.touches),startEvent:n}),e},register:function(e){var n=e.defaults||{};return n[e.name]===t&&(n[e.name]=!0),m.extend(i.defaults,n,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}};i.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(e,t){if(y.current.name!=this.name&&this.triggered)return t.trigger(this.name+"end",e),this.triggered=!1,void 0;if(!(t.options.drag_max_touches>0&&e.touches.length>t.options.drag_max_touches))switch(e.eventType){case p:this.triggered=!1;break;case g:if(e.distance<t.options.drag_min_distance&&y.current.name!=this.name)return;if(y.current.name!=this.name&&(y.current.name=this.name,t.options.correct_for_drag_min_distance&&e.distance>0)){var n=Math.abs(t.options.drag_min_distance/e.distance);y.current.startEvent.center.pageX+=e.deltaX*n,y.current.startEvent.center.pageY+=e.deltaY*n,e=y.extendEventData(e)}(y.current.lastEvent.drag_locked_to_axis||t.options.drag_lock_to_axis&&t.options.drag_lock_min_distance<=e.distance)&&(e.drag_locked_to_axis=!0);var r=y.current.lastEvent.direction;e.drag_locked_to_axis&&r!==e.direction&&(e.direction=m.isVertical(r)?e.deltaY<0?s:a:e.deltaX<0?o:c),this.triggered||(t.trigger(this.name+"start",e),this.triggered=!0),t.trigger(this.name,e),t.trigger(this.name+e.direction,e);var i=m.isVertical(e.direction);(t.options.drag_block_vertical&&i||t.options.drag_block_horizontal&&!i)&&e.preventDefault();break;case d:this.triggered&&t.trigger(this.name+"end",e),this.triggered=!1}}},i.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(e,t){switch(e.eventType){case p:clearTimeout(this.timer),y.current.name=this.name,this.timer=setTimeout(function(){"hold"==y.current.name&&t.trigger("hold",e)},t.options.hold_timeout);break;case g:e.distance>t.options.hold_threshold&&clearTimeout(this.timer);break;case d:clearTimeout(this.timer)}}},i.gestures.Release={name:"release",index:1/0,handler:function(e,t){e.eventType==d&&t.trigger(this.name,e)}},i.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_min_touches:1,swipe_max_touches:1,swipe_velocity:.7},handler:function(e,t){if(e.eventType==d){if(e.touches.length<t.options.swipe_min_touches||e.touches.length>t.options.swipe_max_touches)return;(e.velocityX>t.options.swipe_velocity||e.velocityY>t.options.swipe_velocity)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))}}},i.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},has_moved:!1,handler:function(e,t){var n,r,i;e.eventType==p?this.has_moved=!1:e.eventType!=g||this.moved?e.eventType==d&&"touchcancel"!=e.srcEvent.type&&e.deltaTime<t.options.tap_max_touchtime&&!this.has_moved&&(n=y.previous,r=n&&n.lastEvent&&e.timeStamp-n.lastEvent.timeStamp,i=!1,n&&"tap"==n.name&&r&&r<t.options.doubletap_interval&&e.distance<t.options.doubletap_distance&&(t.trigger("doubletap",e),i=!0),(!i||t.options.tap_always)&&(y.current.name="tap",t.trigger(y.current.name,e))):this.has_moved=e.distance>t.options.tap_max_distance}},i.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(e,t){return t.options.prevent_mouseevents&&e.pointerType==u?(e.stopDetect(),void 0):(t.options.prevent_default&&e.preventDefault(),e.eventType==p&&t.trigger(this.name,e),void 0)}},i.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1,transform_within_instance:!1},triggered:!1,handler:function(e,t){if(y.current.name!=this.name&&this.triggered)return t.trigger(this.name+"end",e),this.triggered=!1,void 0;if(!(e.touches.length<2)){if(t.options.transform_always_block&&e.preventDefault(),t.options.transform_within_instance)for(var n=-1;e.touches[++n];)if(!m.hasParent(e.touches[n].target,t.element))return;switch(e.eventType){case p:this.triggered=!1;break;case g:var r=Math.abs(1-e.scale),i=Math.abs(e.rotation);if(r<t.options.transform_min_scale&&i<t.options.transform_min_rotation)return;y.current.name=this.name,this.triggered||(t.trigger(this.name+"start",e),this.triggered=!0),t.trigger(this.name,e),i>t.options.transform_min_rotation&&t.trigger("rotate",e),r>t.options.transform_min_scale&&(t.trigger("pinch",e),t.trigger("pinch"+(e.scale<1?"in":"out"),e));break;case d:this.triggered&&t.trigger(this.name+"end",e),this.triggered=!1}}}},e.Hammer=i,"object"==typeof module&&module.exports&&(module.exports=i),"function"==typeof define&&define.amd?define(["jquery"],function(t){return r(e.Hammer,t)}):r(e.Hammer,e.jQuery||e.Zepto)}(window);