!function(){var n,e,t,r;!function(){var o={},i={};n=function(n,e,t){o[n]={deps:e,callback:t}},r=t=e=function(n){function t(e){if("."!==e.charAt(0))return e;for(var t=e.split("/"),r=n.split("/").slice(0,-1),o=0,i=t.length;i>o;o++){var c=t[o];if(".."===c)r.pop();else{if("."===c)continue;r.push(c)}}return r.join("/")}if(r._eak_seen=o,i[n])return i[n];if(i[n]={},!o[n])throw new Error("Could not find module "+n);for(var c,u=o[n],s=u.deps,a=u.callback,f=[],l=0,d=s.length;d>l;l++)"exports"===s[l]?f.push(c={}):f.push(e(t(s[l])));var w=a.apply(this,f);return i[n]=c||w}}(),n("promise/all",["./utils","exports"],function(n,e){"use strict";function t(n){var e=this;if(!r(n))throw new TypeError("You must pass an array to all.");return new e(function(e,t){function r(n){return function(e){i(n,e)}}function i(n,t){u[n]=t,0===--s&&e(u)}var c,u=[],s=n.length;0===s&&e([]);for(var a=0;a<n.length;a++)c=n[a],c&&o(c.then)?c.then(r(a),t):i(a,c)})}var r=n.isArray,o=n.isFunction;e.all=t}),n("promise/asap",["exports"],function(n){"use strict";function e(){return function(){process.nextTick(o)}}function t(){var n=0,e=new s(o),t=document.createTextNode("");return e.observe(t,{characterData:!0}),function(){t.data=n=++n%2}}function r(){return function(){a.setTimeout(o,1)}}function o(){for(var n=0;n<f.length;n++){var e=f[n],t=e[0],r=e[1];t(r)}f=[]}function i(n,e){var t=f.push([n,e]);1===t&&c()}var c,u="undefined"!=typeof window?window:{},s=u.MutationObserver||u.WebKitMutationObserver,a="undefined"!=typeof global?global:this,f=[];c="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?e():s?t():r(),n.asap=i}),n("promise/cast",["exports"],function(n){"use strict";function e(n){if(n&&"object"==typeof n&&n.constructor===this)return n;var e=this;return new e(function(e){e(n)})}n.cast=e}),n("promise/config",["exports"],function(n){"use strict";function e(n,e){return 2!==arguments.length?t[n]:(t[n]=e,void 0)}var t={instrument:!1};n.config=t,n.configure=e}),n("promise/polyfill",["./promise","./utils","exports"],function(n,e,t){"use strict";function r(){var n="Promise"in window&&"cast"in window.Promise&&"resolve"in window.Promise&&"reject"in window.Promise&&"all"in window.Promise&&"race"in window.Promise&&function(){var n;return new window.Promise(function(e){n=e}),i(n)}();n||(window.Promise=o)}var o=n.Promise,i=e.isFunction;t.polyfill=r}),n("promise/promise",["./config","./utils","./cast","./all","./race","./resolve","./reject","./asap","exports"],function(n,e,t,r,o,i,c,u,s){"use strict";function a(n){if(!b(n))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof a))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],f(n,this)}function f(n,e){function t(n){v(e,n)}function r(n){y(e,n)}try{n(t,r)}catch(o){r(o)}}function l(n,e,t,r){var o,i,c,u,s=b(t);if(s)try{o=t(r),c=!0}catch(a){u=!0,i=a}else o=r,c=!0;p(e,o)||(s&&c?v(e,o):u?y(e,i):n===j?v(e,o):n===P&&y(e,o))}function d(n,e,t,r){var o=n._subscribers,i=o.length;o[i]=e,o[i+j]=t,o[i+P]=r}function w(n,e){for(var t,r,o=n._subscribers,i=n._detail,c=0;c<o.length;c+=3)t=o[c],r=o[c+e],l(e,t,r,i);n._subscribers=null}function p(n,e){var t,r=null;try{if(n===e)throw new TypeError("A promises callback cannot return that same promise.");if(E(e)&&(r=e.then,b(r)))return r.call(e,function(r){return t?!0:(t=!0,e!==r?v(n,r):m(n,r),void 0)},function(e){return t?!0:(t=!0,y(n,e),void 0)}),!0}catch(o){return t?!0:(y(n,o),!0)}return!1}function v(n,e){n===e?m(n,e):p(n,e)||m(n,e)}function m(n,e){n._state===k&&(n._state=L,n._detail=e,S.async(h,n))}function y(n,e){n._state===k&&(n._state=L,n._detail=e,S.async(g,n))}function h(n){w(n,n._state=j)}function g(n){w(n,n._state=P)}var S=n.config,E=(n.configure,e.objectOrFunction),b=e.isFunction,x=(e.now,t.cast),I=r.all,D=o.race,_=i.resolve,O=c.reject,T=u.asap;S.async=T;var k=void 0,L=0,j=1,P=2;a.prototype={constructor:a,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(n,e){var t=this,r=new this.constructor(function(){});if(this._state){var o=arguments;S.async(function(){l(t._state,r,o[t._state-1],t._detail)})}else d(this,r,n,e);return r},"catch":function(n){return this.then(null,n)}},a.all=I,a.cast=x,a.race=D,a.resolve=_,a.reject=O,s.Promise=a}),n("promise/race",["./utils","exports"],function(n,e){"use strict";function t(n){var e=this;if(!r(n))throw new TypeError("You must pass an array to race.");return new e(function(e,t){for(var r,o=0;o<n.length;o++)r=n[o],r&&"function"==typeof r.then?r.then(e,t):e(r)})}var r=n.isArray;e.race=t}),n("promise/reject",["exports"],function(n){"use strict";function e(n){var e=this;return new e(function(e,t){t(n)})}n.reject=e}),n("promise/resolve",["exports"],function(n){"use strict";function e(n){var e=this;return new e(function(e){e(n)})}n.resolve=e}),n("promise/utils",["exports"],function(n){"use strict";function e(n){return t(n)||"object"==typeof n&&null!==n}function t(n){return"function"==typeof n}function r(n){return"[object Array]"===Object.prototype.toString.call(n)}var o=Date.now||function(){return(new Date).getTime()};n.objectOrFunction=e,n.isFunction=t,n.isArray=r,n.now=o}),e("promise/polyfill").polyfill()}(),function(){"use strict";function n(n,e,t){if(l)e(l.transaction(a,n).objectStore(a));else{var r=d.open(u,s);r.onerror=function(){console.error("asyncStorage: can't open database:",r.error.name),t(r.error.name)},r.onupgradeneeded=function(){r.result.createObjectStore(a)},r.onsuccess=function(){l=r.result,e(l.transaction(a,n).objectStore(a))}}}function e(e,t){return new f(function(r,o){n("readonly",function(n){var i=n.get(e);i.onsuccess=function(){var n=i.result;void 0===n&&(n=null),t&&t(n),r(n)},i.onerror=function(){console.error("Error in asyncStorage.getItem(): ",i.error.name),o(i.error.name)}},o)})}function t(e,t,r){return new f(function(o,i){n("readwrite",function(n){void 0===t&&(t=null);var c=n.put(t,e);c.onsuccess=function(){r&&r(t),o(t)},c.onerror=function(){console.error("Error in asyncStorage.setItem(): ",c.error.name),i(c.error.name)}},i)})}function r(e,t){return new f(function(r,o){n("readwrite",function(n){var i=n["delete"](e);i.onsuccess=function(){t&&t(),r()},i.onerror=function(){console.error("Error in asyncStorage.removeItem(): ",i.error.name),o(i.error.name)}})})}function o(e){return new f(function(t,r){n("readwrite",function(n){var r=n.clear();r.onsuccess=function(){e&&e(),t()},r.onerror=function(){console.error("Error in asyncStorage.clear(): ",r.error.name)}},r)})}function i(e){return new f(function(t,r){n("readonly",function(n){var o=n.count();o.onsuccess=function(){e&&e(o.result),t(o.result)},o.onerror=function(){console.error("Error in asyncStorage.length(): ",o.error.name),r(o.error.name)}})})}function c(e,t){return new f(function(r,o){return 0>e?(t&&t(null),r(null),void 0):(n("readonly",function(n){var i=!1,c=n.openCursor();c.onsuccess=function(){var n=c.result;return n?(0===e?(t&&t(n.key),r(n.key)):i?(t&&t(n.key),r(n.key)):(i=!0,n.advance(e)),void 0):(t&&t(null),r(null),void 0)},c.onerror=function(){console.error("Error in asyncStorage.key(): ",c.error.name),o(c.error.name)}},o),void 0)})}var u="store",s=1,a="keyvaluepairs",f=window.Promise,l=null,d=d||window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB;if(d){var w={driver:"asyncStorage",getItem:e,setItem:t,removeItem:r,clear:o,length:i,key:c};"function"==typeof define&&define.amd?define("asyncStorage",function(){return w}):"undefined"!=typeof module&&module.exports?module.exports=w:this.asyncStorage=w}}.call(this),function(){"use strict";function n(n){return new c(function(e){u.clear(),n&&n(),e()})}function e(n,e){return new c(function(t,r){try{var o=u.getItem(n);o&&(o=JSON.parse(o)),e&&e(o),t(o)}catch(i){r(i)}})}function t(n,e){return new c(function(t){var r=u.key(n);e&&e(r),t(r)})}function r(n){return new c(function(e){var t=u.length;n&&n(t),e(t)})}function o(n,e){return new c(function(t){u.removeItem(n),e&&e(),t()})}function i(n,e,t){return new c(function(r,o){void 0===e&&(e=null);var i=e;try{e=JSON.stringify(e)}catch(c){console.error("Couldn't convert value into a JSON string: ",e),o(c)}u.setItem(n,e),t&&t(i),r(i)})}var c=window.Promise;try{var u=window.localStorage}catch(s){return}var a={driver:"localStorageWrapper",getItem:e,setItem:i,removeItem:o,clear:n,length:r,key:t};"function"==typeof define&&define.amd?define("localStorageWrapper",function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=a:this.localStorageWrapper=a}.call(this),function(){"use strict";function n(n,e){return new d(function(t,r){w.transaction(function(o){o.executeSql("SELECT * FROM store WHERE key = ? LIMIT 1",[n],function(n,o){var i=o.rows.length?o.rows.item(0).value:null;if(i&&i.substr(0,f)===a)try{i=JSON.parse(i.slice(f))}catch(c){r(c)}e&&e(i),t(i)},null)})})}function e(n,e,t){return new d(function(r){void 0===e&&(e=null);var o;o="boolean"==typeof e||"number"==typeof e||"object"==typeof e?a+JSON.stringify(e):e,w.transaction(function(i){i.executeSql("INSERT OR REPLACE INTO store (key, value) VALUES (?, ?)",[n,o],function(){t&&t(e),r(e)},null)})})}function t(n,e){return new d(function(t){w.transaction(function(r){r.executeSql("DELETE FROM store WHERE key = ?",[n],function(){e&&e(),t()},null)})})}function r(n){return new d(function(e){w.transaction(function(t){t.executeSql("DELETE FROM store",[],function(){n&&n(),e()},null)})})}function o(n){return new d(function(e){w.transaction(function(t){t.executeSql("SELECT COUNT(key) as c FROM store",[],function(t,r){var o=r.rows.item(0).c;n&&n(o),e(o)},null)})})}function i(n,e){return new d(function(t){w.transaction(function(r){r.executeSql("SELECT key FROM store WHERE id = ? LIMIT 1",[n+1],function(n,r){var o=r.rows.length?r.rows.item(0).key:null;e&&e(o),t(o)},null)})})}var c="store",u=4980736,s="1.0",a="__lfsc__:",f=a.length,l="keyvaluepairs",d=window.Promise;if(window.openDatabase){var w=window.openDatabase(c,s,l,u);w.transaction(function(n){n.executeSql("CREATE TABLE IF NOT EXISTS store (id INTEGER PRIMARY KEY, key unique, value)")});var p={driver:"webSQLStorage",getItem:n,setItem:e,removeItem:t,clear:r,length:o,key:i};"function"==typeof define&&define.amd?define("webSQLStorage",function(){return p}):"undefined"!=typeof module&&module.exports?module.exports=p:this.webSQLStorage=p}}.call(this),function(){"use strict";var n=window.Promise,e=1,t=2,r=3,o=r;"function"==typeof define&&define.amd?o=e:"undefined"!=typeof module&&module.exports&&(o=t);var i,c=c||window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB,u=this,s={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage",setDriver:function(r,i){return new n(function(n,a){return!c&&r===s.INDEXEDDB||!window.openDatabase&&r===s.WEBSQL?(i&&i(s),a(s),void 0):(o===e?require([r],function(e){s._extend(e),i&&i(s),n(s)}):o===t?(s._extend(require("./"+r)),i&&i(s),n(s)):(s._extend(u[r]),i&&i(s),n(s)),void 0)})},_extend:function(n){for(var e in n)n.hasOwnProperty(e)&&(this[e]=n[e])}};i=c?s.INDEXEDDB:window.openDatabase?s.WEBSQL:s.LOCALSTORAGE,s.setDriver(i),o===e?define(function(){return s}):o===t?module.exports=s:this.store=s}.call(this);